$(function() {  'use strict';  //  $(".airTicket-top-con").scrollFloat({    scrollBox: $("body")  });  // 单返程  $(".airTicket-trip .select-dropdown li").on("click",function(){    var text = $(this).text();    var dateEnd = $(".airTicket-date-end");    if (text === "单程") {      dateEnd.addClass("disabled");    } else {      dateEnd.removeClass("disabled");    }  });  //  $(".airTicket-place-switch").on("click",function () {    var origin = $(".airTicket-origin input");    var dest = $(".airTicket-dest input");    var sVal = origin.val();    var sPlave = origin.data("place");    origin.val(dest.val()).data("place",dest.data("place"));    dest.val(sVal).data("place",sPlave);  });  // 出发地、目的地选择  var placePopup = $(".airTicket-place-popup");  var placeTab = $(".airTicket-place-tab");  var placeCity = $(".airTicket-place-city");  var placeSel;  // 出发  $(".airTicket-origin input").on("focus",function () {    citySel($(this));  });  // 到达  $(".airTicket-dest input").on("focus",function () {    citySel($(this));  });  function citySel (self) {    var index;    placeSel = self;    self.select();    $("li", placeTab).removeClass("active");    $("li", placeCity).removeClass("active");    $("li[data-place='"+placeSel.data("place")+"']",placeTab).addClass("active");    $("li[data-city='"+placeSel.val()+"']",placeCity).addClass("active");    placePopup.css("left", 0).show();    index = $("li.active", placeTab).index();    placeCity.hide().eq(index != -1?index:0).show();  }  // 城市选择弹窗  $("li", placeTab).on("click", function () {    $(this).addClass("active").siblings().removeClass("active");    placeCity.hide().eq($(this).index()).show()  });  $("li", placeCity).on("click", function () {    var place = $("li.active", placeTab).data("place");    var city = $(this).data("city");    $(this).addClass("active").siblings().removeClass("active");    placeSel.data("place",place).val(city);    placePopup.hide();  });  placePopup.autoHide();  // 出发地、目的地选择 end  // 日期选择  var week = ["日","一","二","三","四","五","六"];  var startDate = $('#start-date');  var endDate = $('#end-date');  startDate.daterangepicker({    "singleDatePicker": true,    "showDropdowns": true,    "autoApply": true,    "locale": {      "format": "YYYY/MM/DD",      "daysOfWeek": ["日","一","二","三","四","五","六"],      "monthNames": ["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],      "firstDay": 1    }  }, function(start, end, label) {    $(".start-date-week").text("周" + week[new Date(start).getDay()]);    console.log("New date range selected: " + start.format('YYYY-MM-DD') + " to " + end.format('YYYY-MM-DD') + " (predefined range: " + label + ")");  });  endDate.daterangepicker({    "singleDatePicker": true,    "showDropdowns": true,    "autoApply": true,    "locale": {      "format": "YYYY/MM/DD",      "daysOfWeek": ["日","一","二","三","四","五","六"],      "monthNames": ["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],      "firstDay": 1    }  }, function(start, end, label) {    $(".end-date-week").text("周" + week[new Date(start).getDay()]);    endDate.parent().removeClass("disabled");    $(".airTicket-trip .select-val").text("往返");    $(".select-dropdown li").each(function () {      if($(this).text() == '往返'){        $(this).addClass("active").siblings().removeClass("active");      }    });    console.log("New date range selected: " + start.format('YYYY-MM-DD') + " to " + end.format('YYYY-MM-DD') + " (predefined range: " + label + ")");  });  $(".start-date-week").text("周" + week[new Date(startDate.val()).getDay()]);  $(".end-date-week").text("周" + week[new Date(endDate.val()).getDay()]);  // 排序  $(".airTicket-sort-item li").on("click",function () {    var sort = $(this).find("i");    $(this).addClass("cur").siblings().removeClass("cur");    if($(this).find("i").hasClass("down-screen-icon")){      sort.removeClass("down-screen-icon").addClass("up-screen-icon");    }else{      sort.removeClass("up-screen-icon").addClass("down-screen-icon");    };  });  // 是否含税  $(".whether-tax").on("click",function(){    var check = $(this).find("i");    if(!check.hasClass("checked")){      check.addClass("checked");    }else{      check.removeClass("checked");    }  });  // 方式选择  $(".airTicket-choose span").on("click",function () {    $(this).addClass("active").siblings().removeClass("active");  });  // 展开详情  $(".show-airTicket-detail span").on("click",function(){    var detail = $(this).parents(".airTicket-list-group").find(".airTicket-detail");    if(detail.is(":hidden")){      detail.slideDown(150);      $(this).find("i").addClass("hidden");      $(this).find("em").text("收起");    } else {      detail.slideUp(150);      $(this).find("i").removeClass("hidden");      $(this).find("em").text("展开详情");    }  });  // 锁定  $(".airTicket-list-item .whether-lock").on("click",function () {    if(!$(this).hasClass("locked")){      $(this).parents(".airTicket-list").find(".whether-lock").hide();      $(this).show().addClass("locked");    }else{      $(this).parents(".airTicket-list").find(".whether-lock").show();      $(this).removeClass("locked");    }  });  // 筛选勾选  var filtrate = $(".airTicket-filtrate-item");  $(".checkbox-icon", filtrate).on("click",function () {    $(this).toggleClass("checked");  });  $(".empty-filtrate", filtrate).on("click", function () {    $(this).parents(".airTicket-filtrate-item").find(".checkbox-icon").removeClass("checked");  });  // 更多筛选  $(".more-filtrate").on("click",function () {    var filtrate = $(this).parent().find(".airTicket-filtrate");    if(!filtrate.hasClass("hAuto")){      filtrate.addClass("hAuto");    } else {      filtrate.removeClass("hAuto");    }  })});